(window.webpackJsonp = window.webpackJsonp || []).push([[0], { 117: function (e, t, n) { e.exports = n.p + "static/media/spinner.b471c370.gif" }, 123: function (e, t, n) { e.exports = n(230) }, 128: function (e, t, n) { }, 230: function (e, t, n) { "use strict"; n.r(t); var a = n(1), r = n.n(a), c = n(9), i = n.n(c), o = (n(128), n(35)), l = n(36), s = n(41), u = n(37), p = n(42), d = n(43), h = n.n(d), m = n(60), f = n(56), v = n(48), y = n.n(v), g = n(234), b = (n(149), n(40)), S = [], O = [], E = function (e) { function t() { var e, n; Object(o.a)(this, t); for (var a = arguments.length, r = new Array(a), c = 0; c < a; c++)r[c] = arguments[c]; return (n = Object(s.a)(this, (e = Object(u.a)(t)).call.apply(e, [this].concat(r)))).state = { cities: [], loading: !0 }, n.handleSelect = function (e) { n.props.handleSelectCity(e) }, n } return Object(p.a)(t, e), Object(l.a)(t, [{ key: "componentDidMount", value: function () { this.getCities() } }, { key: "getCities", value: function () { var e = Object(f.a)(h.a.mark(function e() { return h.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return this.setState({ loading: !0 }), e.prev = 1, e.next = 4, y.a.get("https://opentable.herokuapp.com/api/cities"); case 4: S = e.sent, this.setState(Object(m.a)({}, this.state, { cities: S.data.cities, loading: !1 })), e.next = 12; break; case 8: e.prev = 8, e.t0 = e.catch(1), console.log("Something Went Wrong!"), console.log({ error: e.t0 }); case 12: case "end": return e.stop() } }, e, this, [[1, 8]]) })); return function () { return e.apply(this, arguments) } }() }, { key: "render", value: function () { O = this.state.cities; var e = this.state.loading; return e ? r.a.createElement("div", null, r.a.createElement(g.a, { style: { width: "100%" }, placeholder: "Select Your City" })) : e ? void 0 : r.a.createElement("div", null, r.a.createElement(g.a, { onSelect: this.handleSelect, style: { width: "100%" }, dataSource: O, placeholder: "Select Your City", filterOption: function (e, t) { return -1 !== t.props.children.toUpperCase().indexOf(e.toUpperCase()) } })) } }]), t }(r.a.Component), w = Object(b.b)(null, function (e) { return { handleSelectCity: function (t) { e({ type: "SHOW_RESTAURANTS", citySelected: t }) } } })(E), j = n(235), k = n(232), $ = n(233), x = n(231), C = n(117), R = n.n(C), A = [], T = function (e) { function t() { var e, n; Object(o.a)(this, t); for (var a = arguments.length, r = new Array(a), c = 0; c < a; c++)r[c] = arguments[c]; return (n = Object(s.a)(this, (e = Object(u.a)(t)).call.apply(e, [this].concat(r)))).state = { restaurants: [], loaded: !1, loading: !0 }, n } return Object(p.a)(t, e), Object(l.a)(t, [{ key: "renderSwitch", value: function (e) { switch (e) { case 0: return ""; case 1: return "$"; case 2: return "$$"; case 3: return "$$$"; case 4: return "$$$$"; case 5: return "$$$$$"; default: return "" } } }, { key: "componentWillMount", value: function () { this.getRestaurantsDefault() } }, { key: "getRestaurantsDefault", value: function () { var e = Object(f.a)(h.a.mark(function e() { var t; return h.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, y.a.get("https://opentable.herokuapp.com/api/restaurants?city=toronto"); case 3: t = e.sent, this.setState({ restaurants: t.data.restaurants, loaded: !0 }), e.next = 10; break; case 7: e.prev = 7, e.t0 = e.catch(0), console.log({ error: e.t0 }); case 10: case "end": return e.stop() } }, e, this, [[0, 7]]) })); return function () { return e.apply(this, arguments) } }() }, { key: "componentDidUpdate", value: function (e) { var t = this; this.props.citySelected !== e.citySelected && y.a.get("https://opentable.herokuapp.com/api/restaurants?city=".concat(this.props.citySelected)).then(function (e) { A = e.data.restaurants, t.setState({ restaurants: A, loaded: !0, loading: !1 }) }).catch(function (e) { console.log({ err: e }) }) } }, { key: "render", value: function () { var e = this, t = j.a.Meta, n = this.state, a = n.loaded, c = n.loading; return a ? r.a.createElement("div", null, r.a.createElement(k.a, { gutter: 48, type: "flex", justify: "space-around", align: "middle" }, this.state.restaurants.map(function (n, a) { var c = e.renderSwitch(n.price), i = n.address + " " + n.city + " " + c; return r.a.createElement($.a, { key: a, value: 100, xs: { span: 24 }, md: { span: 12 }, lg: { span: 8 }, xl: { span: 6 } }, r.a.createElement(j.a, { hoverable: !0, cover: r.a.createElement("img", { alt: n.name, src: n.image_url }) }, r.a.createElement(t, { title: n.name, description: i }), " ", r.a.createElement("br", null), " ", r.a.createElement("a", { alt: "Reserve Table", href: n.reserve_url, target: "_blank", rel: "noopener noreferrer" }, " ", r.a.createElement(x.a, { type: "danger" }, "Reserve Table")), " ")) }))) : c ? r.a.createElement("div", { style: { textAlign: "center" } }, r.a.createElement("img", { style: { width: "50%", height: "50%" }, alt: "spinner", src: R.a })) : void 0 } }]), t }(r.a.Component), W = Object(b.b)(function (e) { return { citySelected: e.citySelected } })(T), U = n(236).a.Content, _ = function () { return r.a.createElement(U, { style: { minHeight: "500px", marginTop: "50px" } }, r.a.createElement("div", { className: "container" }, r.a.createElement(w, null), r.a.createElement(W, null))) }, D = function (e) { function t() { return Object(o.a)(this, t), Object(s.a)(this, Object(u.a)(t).apply(this, arguments)) } return Object(p.a)(t, e), Object(l.a)(t, [{ key: "render", value: function () { return r.a.createElement("div", null, r.a.createElement(_, null)) } }]), t }(a.Component); Boolean("localhost" === window.location.hostname || "[::1]" === window.location.hostname || window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)); var H = n(49), M = { citySelected: "toronto" }, N = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : M, t = arguments.length > 1 ? arguments[1] : void 0; switch (t.type) { case "SHOW_RESTAURANTS": return Object(m.a)({}, e, { citySelected: t.citySelected }); default: return e } }, B = Object(H.c)(N, Object(H.b)()); i.a.render(r.a.createElement(b.a, { store: B }, r.a.createElement(D, null)), document.getElementById("root")), "serviceWorker" in navigator && navigator.serviceWorker.ready.then(function (e) { e.unregister() }) } }, [[123, 2, 1]]]);
//# sourceMappingURL=main.0796d8e0.chunk.js.map